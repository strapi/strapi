'use strict';

const coffee = require('coffee');

const utils = require('../../../utils');

describe('routes:list', () => {
  let appPath;

  beforeAll(async () => {
    const testApps = utils.instances.getTestApps();

    appPath = testApps.at(0);
  });

  it('should output list of routes', async () => {
    const { stdout } = await coffee
      .spawn('npm', ['run', '-s', 'strapi', 'routes:list'], { cwd: appPath })
      .expect('code', 0)
      .end();

    const output = stdout.trim();

    const expected = `
┌────────────────────┬─────────────────────────────────────────────────────────────────────────────────┐
│ Method             │ Path                                                                            │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|ACL|BIND|CHE… │ /_health                                                                        │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /admin/:path*                                                                   │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /uploads/(.*)                                                                   │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /plugins/documentation/(.*)                                                     │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /                                                                               │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /((?!uploads/).+)                                                               │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|ACL|BIND|CHE… │ /graphql                                                                        │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /api/categories                                                                 │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /api/categories/:id                                                             │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /api/categories                                                                 │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ PUT                │ /api/categories/:id                                                             │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ DELETE             │ /api/categories/:id                                                             │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /api/complexes                                                                  │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /api/complexes/:id                                                              │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /api/complexes                                                                  │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ PUT                │ /api/complexes/:id                                                              │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ DELETE             │ /api/complexes/:id                                                              │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /api/config/ratelimit/enable                                                    │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /api/single-type-localized                                                      │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ PUT                │ /api/single-type-localized                                                      │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ DELETE             │ /api/single-type-localized                                                      │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /api/single-type-non-local                                                      │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ PUT                │ /api/single-type-non-local                                                      │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ DELETE             │ /api/single-type-non-local                                                      │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /api/single-type-unpublished                                                    │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ PUT                │ /api/single-type-unpublished                                                    │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ DELETE             │ /api/single-type-unpublished                                                    │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /api/content-type-builder/content-types                                         │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /api/content-type-builder/content-types/:uid                                    │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /api/content-type-builder/components                                            │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /api/content-type-builder/components/:uid                                       │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /api/email                                                                      │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /api/upload                                                                     │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /api/upload/files                                                               │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /api/upload/files/:id                                                           │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ DELETE             │ /api/upload/files/:id                                                           │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /api/i18n/locales                                                               │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /api/connect/(.*)                                                               │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /api/auth/local                                                                 │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /api/auth/local/register                                                        │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /api/auth/:provider/callback                                                    │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /api/auth/forgot-password                                                       │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /api/auth/reset-password                                                        │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /api/auth/email-confirmation                                                    │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /api/auth/send-email-confirmation                                               │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /api/auth/change-password                                                       │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /api/users/count                                                                │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /api/users                                                                      │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /api/users/me                                                                   │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /api/users/:id                                                                  │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /api/users                                                                      │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ PUT                │ /api/users/:id                                                                  │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ DELETE             │ /api/users/:id                                                                  │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /api/users-permissions/roles/:id                                                │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /api/users-permissions/roles                                                    │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /api/users-permissions/roles                                                    │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ PUT                │ /api/users-permissions/roles/:role                                              │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ DELETE             │ /api/users-permissions/roles/:role                                              │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /api/users-permissions/permissions                                              │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /admin/init                                                                     │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /admin/project-settings                                                         │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /admin/project-settings                                                         │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /admin/project-type                                                             │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /admin/information                                                              │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /admin/telemetry-properties                                                     │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /admin/plugins                                                                  │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /admin/login                                                                    │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /admin/access-token                                                             │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /admin/register-admin                                                           │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /admin/registration-info                                                        │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /admin/register                                                                 │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /admin/forgot-password                                                          │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /admin/reset-password                                                           │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /admin/logout                                                                   │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /admin/permissions                                                              │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /admin/permissions/check                                                        │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /admin/users/me                                                                 │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ PUT                │ /admin/users/me                                                                 │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /admin/users/me/permissions                                                     │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /admin/users                                                                    │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /admin/users                                                                    │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /admin/users/:id                                                                │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ PUT                │ /admin/users/:id                                                                │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ DELETE             │ /admin/users/:id                                                                │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /admin/users/batch-delete                                                       │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /admin/roles/:id/permissions                                                    │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ PUT                │ /admin/roles/:id/permissions                                                    │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /admin/roles/:id                                                                │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /admin/roles                                                                    │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /admin/roles                                                                    │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ PUT                │ /admin/roles/:id                                                                │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ DELETE             │ /admin/roles/:id                                                                │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /admin/roles/batch-delete                                                       │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /admin/webhooks                                                                 │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /admin/webhooks                                                                 │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /admin/webhooks/:id                                                             │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ PUT                │ /admin/webhooks/:id                                                             │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ DELETE             │ /admin/webhooks/:id                                                             │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /admin/webhooks/batch-delete                                                    │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /admin/webhooks/:id/trigger                                                     │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /admin/api-tokens                                                               │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /admin/api-tokens                                                               │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ DELETE             │ /admin/api-tokens/:id                                                           │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /admin/api-tokens/:id                                                           │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ PUT                │ /admin/api-tokens/:id                                                           │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /admin/api-tokens/:id/regenerate                                                │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /admin/content-api/permissions                                                  │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /admin/content-api/routes                                                       │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /admin/transfer/runner/push                                                     │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /admin/transfer/runner/pull                                                     │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /admin/transfer/tokens                                                          │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /admin/transfer/tokens                                                          │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ DELETE             │ /admin/transfer/tokens/:id                                                      │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /admin/transfer/tokens/:id                                                      │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ PUT                │ /admin/transfer/tokens/:id                                                      │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /admin/transfer/tokens/:id/regenerate                                           │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /content-manager/init                                                           │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /content-manager/content-types                                                  │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /content-manager/content-types-settings                                         │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /content-manager/content-types/:uid/configuration                               │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ PUT                │ /content-manager/content-types/:uid/configuration                               │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /content-manager/components                                                     │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /content-manager/components/:uid/configuration                                  │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ PUT                │ /content-manager/components/:uid/configuration                                  │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /content-manager/uid/generate                                                   │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /content-manager/uid/check-availability                                         │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /content-manager/relations/:model/:targetField                                  │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /content-manager/relations/:model/:id/:targetField                              │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /content-manager/single-types/:model                                            │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ PUT                │ /content-manager/single-types/:model                                            │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ DELETE             │ /content-manager/single-types/:model                                            │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /content-manager/single-types/:model/actions/publish                            │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /content-manager/single-types/:model/actions/unpublish                          │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /content-manager/single-types/:model/actions/discard                            │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /content-manager/single-types/:model/actions/countDraftRelations                │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /content-manager/collection-types/:model                                        │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /content-manager/collection-types/:model                                        │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /content-manager/collection-types/:model/clone/:sourceId                        │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /content-manager/collection-types/:model/auto-clone/:sourceId                   │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /content-manager/collection-types/:model/:id                                    │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ PUT                │ /content-manager/collection-types/:model/:id                                    │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ DELETE             │ /content-manager/collection-types/:model/:id                                    │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /content-manager/collection-types/:model/actions/publish                        │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /content-manager/collection-types/:model/:id/actions/publish                    │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /content-manager/collection-types/:model/:id/actions/unpublish                  │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /content-manager/collection-types/:model/:id/actions/discard                    │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /content-manager/collection-types/:model/actions/bulkDelete                     │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /content-manager/collection-types/:model/actions/bulkPublish                    │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /content-manager/collection-types/:model/actions/bulkUnpublish                  │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /content-manager/collection-types/:model/:id/actions/countDraftRelations        │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /content-manager/collection-types/:model/actions/countManyEntriesDraftRelations │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /content-type-builder/reserved-names                                            │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /content-type-builder/content-types                                             │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /content-type-builder/content-types/:uid                                        │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /content-type-builder/content-types                                             │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ PUT                │ /content-type-builder/content-types/:uid                                        │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ DELETE             │ /content-type-builder/content-types/:uid                                        │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /content-type-builder/components                                                │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /content-type-builder/components/:uid                                           │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /content-type-builder/components                                                │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ PUT                │ /content-type-builder/components/:uid                                           │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ DELETE             │ /content-type-builder/components/:uid                                           │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ PUT                │ /content-type-builder/component-categories/:name                                │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ DELETE             │ /content-type-builder/component-categories/:name                                │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /email                                                                          │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /email/test                                                                     │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /email/settings                                                                 │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /upload/settings                                                                │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ PUT                │ /upload/settings                                                                │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /upload                                                                         │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /upload/files                                                                   │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /upload/files/:id                                                               │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ DELETE             │ /upload/files/:id                                                               │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /upload/folders/:id                                                             │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /upload/folders                                                                 │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /upload/folders                                                                 │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ PUT                │ /upload/folders/:id                                                             │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /upload/folder-structure                                                        │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /upload/actions/bulk-delete                                                     │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /upload/actions/bulk-move                                                       │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /upload/configuration                                                           │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ PUT                │ /upload/configuration                                                           │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /i18n/iso-locales                                                               │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /i18n/locales                                                                   │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /i18n/locales                                                                   │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ PUT                │ /i18n/locales/:id                                                               │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ DELETE             │ /i18n/locales/:id                                                               │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /i18n/content-manager/actions/get-non-localized-fields                          │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /documentation                                                                  │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /documentation/v:major(\\d+).:minor(\\d+).:patch(\\d+)                             │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /documentation/login                                                            │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /documentation/login                                                            │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /documentation/getInfos                                                         │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /documentation/regenerateDoc                                                    │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ PUT                │ /documentation/updateSettings                                                   │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ DELETE             │ /documentation/deleteDoc/:version                                               │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /users-permissions/roles/:id                                                    │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /users-permissions/roles                                                        │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ POST               │ /users-permissions/roles                                                        │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ PUT                │ /users-permissions/roles/:role                                                  │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ DELETE             │ /users-permissions/roles/:role                                                  │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /users-permissions/email-templates                                              │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ PUT                │ /users-permissions/email-templates                                              │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /users-permissions/advanced                                                     │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ PUT                │ /users-permissions/advanced                                                     │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /users-permissions/providers                                                    │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ PUT                │ /users-permissions/providers                                                    │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /users-permissions/permissions                                                  │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /users-permissions/policies                                                     │
├────────────────────┼─────────────────────────────────────────────────────────────────────────────────┤
│ HEAD|GET           │ /users-permissions/routes                                                       │
└────────────────────┴─────────────────────────────────────────────────────────────────────────────────┘
    `;

    utils.helpers.expectConsoleLinesToInclude(output, expected);
  });
});
